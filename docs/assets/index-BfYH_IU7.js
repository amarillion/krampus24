var pn=Object.defineProperty;var yn=(o,t,n)=>t in o?pn(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n;var j=(o,t,n)=>yn(o,typeof t!="symbol"?t+"":t,n);import{r as wn,g as oe}from"./phaser-MUclhth5.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))e(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&e(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var vn=wn();const yt=oe(vn);var Mt={exports:{}},ge;function Cn(){return ge||(ge=1,function(o){(function(){function t(s,c,d){return s.call.apply(s.bind,arguments)}function n(s,c,d){if(!s)throw Error();if(2<arguments.length){var f=Array.prototype.slice.call(arguments,2);return function(){var p=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(p,f),s.apply(c,p)}}return function(){return s.apply(c,arguments)}}function e(s,c,d){return e=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?t:n,e.apply(null,arguments)}var r=Date.now||function(){return+new Date};function i(s,c){this.a=s,this.o=c||s,this.c=this.o.document}var a=!!window.FontFace;function u(s,c,d,f){if(c=s.c.createElement(c),d)for(var p in d)d.hasOwnProperty(p)&&(p=="style"?c.style.cssText=d[p]:c.setAttribute(p,d[p]));return f&&c.appendChild(s.c.createTextNode(f)),c}function l(s,c,d){s=s.c.getElementsByTagName(c)[0],s||(s=document.documentElement),s.insertBefore(d,s.lastChild)}function h(s){s.parentNode&&s.parentNode.removeChild(s)}function g(s,c,d){c=c||[],d=d||[];for(var f=s.className.split(/\s+/),p=0;p<c.length;p+=1){for(var N=!1,z=0;z<f.length;z+=1)if(c[p]===f[z]){N=!0;break}N||f.push(c[p])}for(c=[],p=0;p<f.length;p+=1){for(N=!1,z=0;z<d.length;z+=1)if(f[p]===d[z]){N=!0;break}N||c.push(f[p])}s.className=c.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function w(s,c){for(var d=s.className.split(/\s+/),f=0,p=d.length;f<p;f++)if(d[f]==c)return!0;return!1}function v(s){return s.o.location.hostname||s.a.location.hostname}function m(s,c,d){function f(){k&&p&&N&&(k(z),k=null)}c=u(s,"link",{rel:"stylesheet",href:c,media:"all"});var p=!1,N=!0,z=null,k=d||null;a?(c.onload=function(){p=!0,f()},c.onerror=function(){p=!0,z=Error("Stylesheet failed to load"),f()}):setTimeout(function(){p=!0,f()},0),l(s,"head",c)}function R(s,c,d,f){var p=s.c.getElementsByTagName("head")[0];if(p){var N=u(s,"script",{src:c}),z=!1;return N.onload=N.onreadystatechange=function(){z||this.readyState&&this.readyState!="loaded"&&this.readyState!="complete"||(z=!0,d&&d(null),N.onload=N.onreadystatechange=null,N.parentNode.tagName=="HEAD"&&p.removeChild(N))},p.appendChild(N),setTimeout(function(){z||(z=!0,d&&d(Error("Script load timeout")))},f||5e3),N}return null}function b(){this.a=0,this.c=null}function q(s){return s.a++,function(){s.a--,L(s)}}function x(s,c){s.c=c,L(s)}function L(s){s.a==0&&s.c&&(s.c(),s.c=null)}function D(s){this.a=s||"-"}D.prototype.c=function(s){for(var c=[],d=0;d<arguments.length;d++)c.push(arguments[d].replace(/[\W_]+/g,"").toLowerCase());return c.join(this.a)};function S(s,c){this.c=s,this.f=4,this.a="n";var d=(c||"n4").match(/^([nio])([1-9])$/i);d&&(this.a=d[1],this.f=parseInt(d[2],10))}function _(s){return P(s)+" "+(s.f+"00")+" 300px "+A(s.c)}function A(s){var c=[];s=s.split(/,\s*/);for(var d=0;d<s.length;d++){var f=s[d].replace(/['"]/g,"");f.indexOf(" ")!=-1||/^\d/.test(f)?c.push("'"+f+"'"):c.push(f)}return c.join(",")}function C(s){return s.a+s.f}function P(s){var c="normal";return s.a==="o"?c="oblique":s.a==="i"&&(c="italic"),c}function E(s){var c=4,d="n",f=null;return s&&((f=s.match(/(normal|oblique|italic)/i))&&f[1]&&(d=f[1].substr(0,1).toLowerCase()),(f=s.match(/([1-9]00|normal|bold)/i))&&f[1]&&(/bold/i.test(f[1])?c=7:/[1-9]00/.test(f[1])&&(c=parseInt(f[1].substr(0,1),10)))),d+c}function M(s,c){this.c=s,this.f=s.o.document.documentElement,this.h=c,this.a=new D("-"),this.j=c.events!==!1,this.g=c.classes!==!1}function B(s){s.g&&g(s.f,[s.a.c("wf","loading")]),y(s,"loading")}function T(s){if(s.g){var c=w(s.f,s.a.c("wf","active")),d=[],f=[s.a.c("wf","loading")];c||d.push(s.a.c("wf","inactive")),g(s.f,d,f)}y(s,"inactive")}function y(s,c,d){s.j&&s.h[c]&&(d?s.h[c](d.c,C(d)):s.h[c]())}function I(){this.c={}}function H(s,c,d){var f=[],p;for(p in c)if(c.hasOwnProperty(p)){var N=s.c[p];N&&f.push(N(c[p],d))}return f}function K(s,c){this.c=s,this.f=c,this.a=u(this.c,"span",{"aria-hidden":"true"},this.f)}function nt(s){l(s.c,"body",s.a)}function tt(s){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+A(s.c)+";"+("font-style:"+P(s)+";font-weight:"+(s.f+"00")+";")}function et(s,c,d,f,p,N){this.g=s,this.j=c,this.a=f,this.c=d,this.f=p||3e3,this.h=N||void 0}et.prototype.start=function(){var s=this.c.o.document,c=this,d=r(),f=new Promise(function(z,k){function U(){r()-d>=c.f?k():s.fonts.load(_(c.a),c.h).then(function(O){1<=O.length?z():setTimeout(U,25)},function(){k()})}U()}),p=null,N=new Promise(function(z,k){p=setTimeout(k,c.f)});Promise.race([N,f]).then(function(){p&&(clearTimeout(p),p=null),c.g(c.a)},function(){c.j(c.a)})};function $(s,c,d,f,p,N,z){this.v=s,this.B=c,this.c=d,this.a=f,this.s=z||"BESbswy",this.f={},this.w=p||3e3,this.u=N||null,this.m=this.j=this.h=this.g=null,this.g=new K(this.c,this.s),this.h=new K(this.c,this.s),this.j=new K(this.c,this.s),this.m=new K(this.c,this.s),s=new S(this.a.c+",serif",C(this.a)),s=tt(s),this.g.a.style.cssText=s,s=new S(this.a.c+",sans-serif",C(this.a)),s=tt(s),this.h.a.style.cssText=s,s=new S("serif",C(this.a)),s=tt(s),this.j.a.style.cssText=s,s=new S("sans-serif",C(this.a)),s=tt(s),this.m.a.style.cssText=s,nt(this.g),nt(this.h),nt(this.j),nt(this.m)}var Y={D:"serif",C:"sans-serif"},rt=null;function ut(){if(rt===null){var s=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);rt=!!s&&(536>parseInt(s[1],10)||parseInt(s[1],10)===536&&11>=parseInt(s[2],10))}return rt}$.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=r(),lt(this)};function At(s,c,d){for(var f in Y)if(Y.hasOwnProperty(f)&&c===s.f[Y[f]]&&d===s.f[Y[f]])return!0;return!1}function lt(s){var c=s.g.a.offsetWidth,d=s.h.a.offsetWidth,f;(f=c===s.f.serif&&d===s.f["sans-serif"])||(f=ut()&&At(s,c,d)),f?r()-s.A>=s.w?ut()&&At(s,c,d)&&(s.u===null||s.u.hasOwnProperty(s.a.c))?J(s,s.v):J(s,s.B):St(s):J(s,s.v)}function St(s){setTimeout(e(function(){lt(this)},s),50)}function J(s,c){setTimeout(e(function(){h(this.g.a),h(this.h.a),h(this.j.a),h(this.m.a),c(this.a)},s),0)}function Q(s,c,d){this.c=s,this.a=c,this.f=0,this.m=this.j=!1,this.s=d}var W=null;Q.prototype.g=function(s){var c=this.a;c.g&&g(c.f,[c.a.c("wf",s.c,C(s).toString(),"active")],[c.a.c("wf",s.c,C(s).toString(),"loading"),c.a.c("wf",s.c,C(s).toString(),"inactive")]),y(c,"fontactive",s),this.m=!0,ft(this)},Q.prototype.h=function(s){var c=this.a;if(c.g){var d=w(c.f,c.a.c("wf",s.c,C(s).toString(),"active")),f=[],p=[c.a.c("wf",s.c,C(s).toString(),"loading")];d||f.push(c.a.c("wf",s.c,C(s).toString(),"inactive")),g(c.f,f,p)}y(c,"fontinactive",s),ft(this)};function ft(s){--s.f==0&&s.j&&(s.m?(s=s.a,s.g&&g(s.f,[s.a.c("wf","active")],[s.a.c("wf","loading"),s.a.c("wf","inactive")]),y(s,"active")):T(s.a))}function se(s){this.j=s,this.a=new I,this.h=0,this.f=this.g=!0}se.prototype.load=function(s){this.c=new i(this.j,s.context||this.j),this.g=s.events!==!1,this.f=s.classes!==!1,rn(this,new M(this.c,s),s)};function nn(s,c,d,f,p){var N=--s.h==0;(s.f||s.g)&&setTimeout(function(){var z=p||null,k=f||null||{};if(d.length===0&&N)T(c.a);else{c.f+=d.length,N&&(c.j=N);var U,O=[];for(U=0;U<d.length;U++){var G=d[U],V=k[G.c],X=c.a,ht=G;if(X.g&&g(X.f,[X.a.c("wf",ht.c,C(ht).toString(),"loading")]),y(X,"fontloading",ht),X=null,W===null)if(window.FontFace){var ht=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),mn=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);W=ht?42<parseInt(ht[1],10):!mn}else W=!1;W?X=new et(e(c.g,c),e(c.h,c),c.c,G,c.s,V):X=new $(e(c.g,c),e(c.h,c),c.c,G,c.s,z,V),O.push(X)}for(U=0;U<O.length;U++)O[U].start()}},0)}function rn(s,c,d){var p=[],f=d.timeout;B(c);var p=H(s.a,d,s.c),N=new Q(s.c,c,f);for(s.h=p.length,c=0,d=p.length;c<d;c++)p[c].load(function(z,k,U){nn(s,N,z,k,U)})}function ae(s,c){this.c=s,this.a=c}ae.prototype.load=function(s){function c(){if(N["__mti_fntLst"+f]){var z=N["__mti_fntLst"+f](),k=[],U;if(z)for(var O=0;O<z.length;O++){var G=z[O].fontfamily;z[O].fontStyle!=null&&z[O].fontWeight!=null?(U=z[O].fontStyle+z[O].fontWeight,k.push(new S(G,U))):k.push(new S(G))}s(k)}else setTimeout(function(){c()},50)}var d=this,f=d.a.projectId,p=d.a.version;if(f){var N=d.c.o;R(this.c,(d.a.api||"https://fast.fonts.net/jsapi")+"/"+f+".js"+(p?"?v="+p:""),function(z){z?s([]):(N["__MonotypeConfiguration__"+f]=function(){return d.a},c())}).id="__MonotypeAPIScript__"+f}else s([])};function ce(s,c){this.c=s,this.a=c}ce.prototype.load=function(s){var c,d,f=this.a.urls||[],p=this.a.families||[],N=this.a.testStrings||{},z=new b;for(c=0,d=f.length;c<d;c++)m(this.c,f[c],q(z));var k=[];for(c=0,d=p.length;c<d;c++)if(f=p[c].split(":"),f[1])for(var U=f[1].split(","),O=0;O<U.length;O+=1)k.push(new S(f[0],U[O]));else k.push(new S(f[0]));x(z,function(){s(k,N)})};function on(s,c){s?this.c=s:this.c=sn,this.a=[],this.f=[],this.g=c||""}var sn="https://fonts.googleapis.com/css";function an(s,c){for(var d=c.length,f=0;f<d;f++){var p=c[f].split(":");p.length==3&&s.f.push(p.pop());var N="";p.length==2&&p[1]!=""&&(N=":"),s.a.push(p.join(N))}}function cn(s){if(s.a.length==0)throw Error("No fonts to load!");if(s.c.indexOf("kit=")!=-1)return s.c;for(var c=s.a.length,d=[],f=0;f<c;f++)d.push(s.a[f].replace(/ /g,"+"));return c=s.c+"?family="+d.join("%7C"),0<s.f.length&&(c+="&subset="+s.f.join(",")),0<s.g.length&&(c+="&text="+encodeURIComponent(s.g)),c}function un(s){this.f=s,this.a=[],this.c={}}var ue={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},ln={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},fn={i:"i",italic:"i",n:"n",normal:"n"},hn=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function dn(s){for(var c=s.f.length,d=0;d<c;d++){var f=s.f[d].split(":"),p=f[0].replace(/\+/g," "),N=["n4"];if(2<=f.length){var z,k=f[1];if(z=[],k)for(var k=k.split(","),U=k.length,O=0;O<U;O++){var G;if(G=k[O],G.match(/^[\w-]+$/)){var V=hn.exec(G.toLowerCase());if(V==null)G="";else{if(G=V[2],G=G==null||G==""?"n":fn[G],V=V[1],V==null||V=="")V="4";else var X=ln[V],V=X||(isNaN(V)?"4":V.substr(0,1));G=[G,V].join("")}}else G="";G&&z.push(G)}0<z.length&&(N=z),f.length==3&&(f=f[2],z=[],f=f?f.split(","):z,0<f.length&&(f=ue[f[0]])&&(s.c[p]=f))}for(s.c[p]||(f=ue[p])&&(s.c[p]=f),f=0;f<N.length;f+=1)s.a.push(new S(p,N[f]))}}function le(s,c){this.c=s,this.a=c}var gn={Arimo:!0,Cousine:!0,Tinos:!0};le.prototype.load=function(s){var c=new b,d=this.c,f=new on(this.a.api,this.a.text),p=this.a.families;an(f,p);var N=new un(p);dn(N),m(d,cn(f),q(c)),x(c,function(){s(N.a,N.c,gn)})};function fe(s,c){this.c=s,this.a=c}fe.prototype.load=function(s){var c=this.a.id,d=this.c.o;c?R(this.c,(this.a.api||"https://use.typekit.net")+"/"+c+".js",function(f){if(f)s([]);else if(d.Typekit&&d.Typekit.config&&d.Typekit.config.fn){f=d.Typekit.config.fn;for(var p=[],N=0;N<f.length;N+=2)for(var z=f[N],k=f[N+1],U=0;U<k.length;U++)p.push(new S(z,k[U]));try{d.Typekit.load({events:!1,classes:!1,async:!0})}catch{}s(p)}},2e3):s([])};function he(s,c){this.c=s,this.f=c,this.a=[]}he.prototype.load=function(s){var c=this.f.id,d=this.c.o,f=this;c?(d.__webfontfontdeckmodule__||(d.__webfontfontdeckmodule__={}),d.__webfontfontdeckmodule__[c]=function(p,N){for(var z=0,k=N.fonts.length;z<k;++z){var U=N.fonts[z];f.a.push(new S(U.name,E("font-weight:"+U.weight+";font-style:"+U.style)))}s(f.a)},R(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+v(this.c)+"/"+c+".js",function(p){p&&s([])})):s([])};var ot=new se(window);ot.a.c.custom=function(s,c){return new ce(c,s)},ot.a.c.fontdeck=function(s,c){return new he(c,s)},ot.a.c.monotype=function(s,c){return new ae(c,s)},ot.a.c.typekit=function(s,c){return new fe(c,s)},ot.a.c.google=function(s,c){return new le(c,s)};var de={load:e(ot.load,ot)};o.exports?o.exports=de:(window.WebFont=de,window.WebFontConfig&&ot.load(window.WebFontConfig))})()}(Mt)),Mt.exports}var En=Cn();const An=oe(En);class Sn extends yt.Scene{constructor(){super({key:"BootScene"});j(this,"fontsReady",!1)}preload(){this.fontsReady=!1,this.fontsLoaded=this.fontsLoaded.bind(this),this.add.text(100,100,"loading fonts..."),this.load.image("loaderBg","./images/loader-bg.png"),this.load.image("loaderBar","./images/loader-bar.png"),An.load({google:{families:["Bangers"]},active:this.fontsLoaded})}update(){this.fontsReady&&this.scene.start("SplashScene")}fontsLoaded(){this.fontsReady=!0}}class Bn extends yt.Scene{constructor(){super({key:"SplashScene"})}preload(){}create(){this.scene.start("TitleScreen")}update(){}}class bn extends Error{constructor(t){super(t)}}function Nt(o,t=""){if(!o)throw new bn(t)}function Bt(o){return Nt(o!=null,`Expected value to be non-null and defined, but was ${o}`),o}const Ke=Math.sqrt(3),Tn=.5*(Ke-1),wt=(3-Ke)/6,me=o=>Math.floor(o)|0,pe=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]);function xn(o=Math.random){const t=Pn(o),n=new Float64Array(t).map(r=>pe[r%12*2]),e=new Float64Array(t).map(r=>pe[r%12*2+1]);return function(i,a){let u=0,l=0,h=0;const g=(i+a)*Tn,w=me(i+g),v=me(a+g),m=(w+v)*wt,R=w-m,b=v-m,q=i-R,x=a-b;let L,D;q>x?(L=1,D=0):(L=0,D=1);const S=q-L+wt,_=x-D+wt,A=q-1+2*wt,C=x-1+2*wt,P=w&255,E=v&255;let M=.5-q*q-x*x;if(M>=0){const y=P+t[E],I=n[y],H=e[y];M*=M,u=M*M*(I*q+H*x)}let B=.5-S*S-_*_;if(B>=0){const y=P+L+t[E+D],I=n[y],H=e[y];B*=B,l=B*B*(I*S+H*_)}let T=.5-A*A-C*C;if(T>=0){const y=P+1+t[E+1],I=n[y],H=e[y];T*=T,h=T*T*(I*A+H*C)}return 70*(u+l+h)}}function Pn(o){const n=new Uint8Array(512);for(let e=0;e<512/2;e++)n[e]=e;for(let e=0;e<512/2-1;e++){const r=e+~~(o()*(256-e)),i=n[e];n[e]=n[r],n[r]=i}for(let e=256;e<512;e++)n[e]=n[e-256];return n}class mt{constructor(t,n,e){j(this,"x");j(this,"y");j(this,"z");this.x=t,this.y=n,this.z=e}static normalize(t){const n=mt.length(t);return new mt(t.x/n,t.y/n,t.z/n)}static length(t){return Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z)}static dot_product(t,n){return t.x*n.x+t.y*n.y+t.z*n.z}}class F{constructor(t,n){j(this,"x");j(this,"y");this.x=t,this.y=n}rotate(t){return F.rotate(this,t)}static rotate(t,n){const{x:e,y:r}=t;switch((n+360)%360){case 270:return new F(-r,e);case 180:return new F(-e,-r);case 90:return new F(r,-e);case 0:return new F(e,r);default:Nt(!1,`Invalid value ${n}`)}}static times(t,n){return new F(t.x*n.x,t.y*n.y)}times(t){return F.times(this,t)}scale(t){return F.scale(this,t)}static scale(t,n){return new F(t.x*n,t.y*n)}mul(t){return F.mul(this,t)}static mul(t,n){return new F(t.x*n,t.y*n)}plus(t){return F.plus(this,t)}static plus(t,n){return new F(t.x+n.x,t.y+n.y)}minus(t){return F.minus(this,t)}static minus(t,n){return new F(t.x-n.x,t.y-n.y)}manhattan(){return F.manhattan(this)}static manhattan(t){return Math.abs(t.x)+Math.abs(t.y)}toString(){return F.toString(this)}static toString(t){return`${t.x},${t.y}`}equals(t){return F.equals(this,t)}static equals(t,n){return t.x===n.x&&t.y===n.y}static length(t){return Math.sqrt(t.x*t.x+t.y*t.y)}length(){return F.length(this)}static contains(t,n){return n.x>=0&&n.y>=0&&n.x<t.x&&n.y<t.y}contains(t){return F.contains(this,t)}}function Rn(o,t,n){return Math.max(t,Math.min(n,o))}function*Nn(o,t){for(let n=0;n<t;++n)for(let e=0;e<o;++e)yield{x:e,y:n}}class Mn{constructor(t){j(this,"config");j(this,"noise2D");j(this,"palettePromise");j(this,"lightSource",mt.normalize({x:.5,y:.8,z:-.3}));this.config=t,this.noise2D=xn(),this.palettePromise=this.loadPalette()}async loadPalette(){const t=new Image;return t.src=this.config.paletteUrl,new Promise((n,e)=>{t.onload=()=>{const i=document.createElement("canvas").getContext("2d");if(i){i.drawImage(t,0,0,t.width,t.height);const a=i.getImageData(0,0,t.width,t.height);n(a)}else e("Can't create context")}})}getHeight(t,n){const{width:e,height:r}=this.config,i=this.noise2D(t/400,n/400),a=this.noise2D(t/200,n/200),u=this.noise2D(t/100,n/100);let l=.5+.5*(i+.5*a*.3+u*.2),g=new F(e/2,r/2).minus({x:t,y:n}).length()/F.length({x:e/2,y:r/2});return Rn(l-g,0,1)}async generate(){const{width:t,height:n}=this.config,e=await this.palettePromise,i=document.createElement("canvas").getContext("2d");Nt(i);const a=i.createImageData(t,n);for(const{x:u,y:l}of Nn(t,n)){let h=(l*t+u)*4;const g=this.getHeight(u,l);let w=.85;if(g>0){let m=g-this.getHeight(u-1,l),R=g-this.getHeight(u,l-1);const b=mt.dot_product(mt.normalize({x:m,y:R,z:.01}),this.lightSource);w=Math.cos(b)}const v=Math.floor(g*(e.width-1))*4;a.data[h+0]=w*e.data[v+0],a.data[h+1]=w*e.data[v+1],a.data[h+2]=w*e.data[v+2],a.data[h+3]=255}return a}}const In="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAQCAYAAAD506FJAAAAAXNSR0IArs4c6QAAARxJREFUeJzt281Kw0AQwPFR/CiJPelFS4MP0rvPIPQJ4sm7B1/IZ/HQgyXXUkJBewm0iEK9CBXyQUJ33Z3s/3dcwuxcMju72RzdPz7t5NdNkshfo+hS2jgbnJTGonhQ+Wx8UT0uInJ6vo8zuX1rnPNl/tEqty5m2avxmF08300PjlG85wYyKduuV0bjZYvCaLwquYytz9FGmj64TqHWsesEfOH65TfB1suP/iov3YByvqz8GtABAAFTWQBs7P+BEKksAEAd2v9uKADSjwNAm0x/AYA/KABAwBoLwHLDXluT4dW16xSgDB2AJ0xcAgK6ogAAATu4AFRdA9aEA0CEjA4ACBgFAAiY7v4d6vzHX4Boz6sO4Ovz23UKQFB+AArbMHnqVCynAAAAAElFTkSuQmCC";function Dn({seed:o=String(Math.random())}={}){const t=zn(o);return Ln(t(),t(),t(),t())}function zn(o){let t=1779033703^o.length;for(let n=0;n<o.length;n++)t=Math.imul(t^o.charCodeAt(n),3432918353),t=t<<13|t>>>19;return function(){return t=Math.imul(t^t>>>16,2246822507),t=Math.imul(t^t>>>13,3266489909),(t^=t>>>16)>>>0}}function Ln(o,t,n,e){return function(){o>>>=0,t>>>=0,n>>>=0,e>>>=0;let r=o+t|0;return o=t^t>>>9,t=n+(n<<3)|0,n=n<<21|n>>>11,e=e+1|0,r=r+e|0,n=n+r|0,(r>>>0)/4294967296}}function Fn(o){return()=>o}function qn(o,...t){return(...n)=>t.reduce((e,r)=>r(e),o(...n))}const kn=[bt(.2,.1,.42,.07,.42,0),bt(0,-.07,-.14,-.15,.08,-.15),bt(.22,0,.07,.08,.07,.15),bt(0,.075,.2,-.1,.43,0)];function Un({piecesX:o=5,piecesY:t=5,seed:n="apple"}={}){const e=Dn({seed:n}),r=u=>(l,...h)=>e()<.5?u(l,...h):l,i=qn(Fn(kn),r(Kn),r(Vn),r(Yn),Hn({random:e})),a=_n({piecesX:o,piecesY:t}).map(jn({createEdge:i})).map(On).map(Gn).map(Jn).map(Wn).map(Xn).map(Zn({piecesX:o})).map(tr({piecesY:t})).map(er({piecesX:o,piecesY:t}));return{piecesX:o,piecesY:t,pieces:a}}function _n({piecesX:o,piecesY:t}){const n=[];for(let e=0;e<t;e++)for(let r=0;r<o;r++)n.push({x:r,y:e});return n}function jn({createEdge:o}){return t=>{const n=o(),e=o().map(dt),r=o().map(dt).map(dt),i=o().map(dt).map(dt).map(dt);return{...t,moveArgs:[0,0],edges:[n,e,r,i]}}}function dt({args:o,...t}){const[n,e,r,i,a,u]=o;return{...t,args:[-e,n,-i,r,-u,a]}}function Pt({args:o,...t}){return{...t,args:o.map(n=>-n)}}function On(o){if(o.x%2===0)return o;const{moveArgs:t,edges:n}=o,[,e]=t,[r,i,a,u]=n,l=r.map(Pt),h=a.map(Pt);return{...o,moveArgs:[1,e],edges:[l,i,h,u]}}function Gn(o){if(o.y%2===0)return o;const{moveArgs:t,edges:n}=o,[e]=t,[r,i,a,u]=n,l=i.map(Pt),h=u.map(Pt);return{...o,moveArgs:[e,1],edges:[r,l,a,h]}}function Hn({random:o}){return([{command:t,args:[n,e,r,i,a,u]},{command:l,args:[h,g,w,v,m,R]},{command:b,args:[q,x,L,D,S,_]},{command:A,args:[C,P,E,M,B,T]}])=>{const{x:y,y:I}=It({random:o,radius:.04}),{x:H,y:K}=It({random:o,radius:.04}),{x:nt,y:tt}=It({random:o,radius:.01}),et=y+nt,$=I+tt,Y=rt=>Rt(rt);return[{command:t,args:[n,e,r+y,i+I,a+y,u+I].map(Y)},{command:l,args:[h,g,w+H,v-I+K,m-y+H,R-I+K].map(Y)},{command:b,args:[q,x,L-H+et,D-K+$,S-H+et,_-K+$].map(Y)},{command:A,args:[C,P,E-et,M-$,B-et,T-$].map(Y)}]}}function It({random:o,radius:t=.05}){const n=t*Math.sqrt(o()),e=o()*2*Math.PI,r=Rt(n*Math.cos(e)),i=Rt(n*Math.sin(e));return{x:r,y:i}}function Kn([o,t,n,e]){const[r,i]=Ve({commands:[o,t]});return[r,i,n,e]}function Vn([o,t,n,e]){const[r,i]=Ve({commands:[n,e],isEnd:!0});return[o,t,r,i]}function Ve({commands:o,isEnd:t=!1}){const[{command:n,args:[e,r,i,a,u,l]},{command:h,args:[,g,w,v,m,R]}]=o,b=l-a,q=g,x=t?1:-1;return[{command:n,args:[e,r,Rt(i-x*b),l,u,l]},{command:h,args:[x*q,0,w,v,m,R]}]}function Yn(o,{edgeIsVertical:t=!1}={}){const n=t?Je:nr,e=(i,a)=>i===0&&a<2,r=(i,a)=>i===3&&1<a;return o.map((i,a)=>{const u=i.args.map((l,h)=>!n(h)||e(a,h)||r(a,h)?l:-l);return{...i,args:u}})}function Jn(o,t,n){const e=n.find(({x:a,y:u})=>a===o.x-1&&u===o.y),r=n.find(({x:a,y:u})=>a===o.x&&u===o.y-1),i=e?Qn({from:e,to:o}):o;return r?$n({from:r,to:i}):i}function Qn({from:o,to:t}){const n=o.x%2===0?1:3;return Ye({from:o,to:t,index:n})}function $n({from:o,to:t}){const n=o.y%2===0?2:0;return Ye({from:o,to:t,index:n})}function Ye({from:{edges:o},to:t,index:n}){const e=[...t.edges];return e[n]=o[n],{...t,edges:e}}function Wn(o){const{x:t,y:n,edges:e}=o;if(0<n)return o;const[,...r]=e,i=t%2===0?1:-1,a=[pt(i,0)];return{...o,edges:[a,...r]}}function Xn(o){const{x:t,y:n,edges:e}=o;if(0<t)return o;const[r,i,a]=e,u=n%2===0?1:-1,l=[pt(0,-u)];return{...o,edges:[r,i,a,l]}}function Zn({piecesX:o}){return t=>{const{x:n,y:e,edges:r}=t;if(n<o-1)return t;const[i,a,u,l]=r,h=e%2===0?1:-1;if(n%2===0){const w=[pt(0,h)];return{...t,edges:[i,w,u,l]}}const g=[pt(0,-h)];return{...t,edges:[i,a,u,g]}}}function tr({piecesY:o}){return t=>{const{x:n,y:e,edges:r}=t;if(e<o-1)return t;const[i,a,u,l]=r,h=n%2===0?1:-1;if(e%2===0){const w=[pt(-h,0)];return{...t,edges:[i,a,w,l]}}const g=[pt(h,0)];return{...t,edges:[g,a,u,l]}}}function er({piecesX:o,piecesY:t}){return({x:n,y:e,moveArgs:r,edges:i,...a})=>{const u=1/o,l=1/t,[h,g]=r,w=[(n+h)*u,(e+g)*l],v=(b,q)=>q%2===0?b*u:b*l,m=({args:b,...q})=>({...q,args:b.map(v)}),R=i.map(b=>b.map(m));return{x:n,y:e,...a,moveArgs:w,edges:R}}}function Je(o){return o%2===0}function nr(o){return!Je(o)}function pt(o,t){return Qe({command:"l",args:[o,t]})}function bt(o,t,n,e,r,i){return Qe({command:"c",args:[o,t,n,e,r,i]})}function Qe({command:o,args:t=[]}){return{command:o,args:t}}function Rt(o,t=5){return Number(o.toPrecision(t))}class rr extends Phaser.GameObjects.Image{constructor(n,e,r,i){const{gridPos:a,texSize:u,gridSize:l}=i;super(n,e,r,`piece-${a.x}-${a.y}`);j(this,"config");j(this,"pieceSize");j(this,"pieceOrigin");j(this,"originalDepth");j(this,"dragDelta",new F(0,0));j(this,"dragOrigin",new F(0,0));this.config={...i},this.pieceSize=new F(u.x/l.x,u.y/l.y),this.pieceOrigin=this.pieceSize.times(a),this.setOrigin(0),this.originalDepth=Math.random(),this.setDepth(this.originalDepth)}dragRelease(n){const e=F.minus(n,this.dragDelta),r=40;e.x+=r/2,e.y+=r/2,e.x-=e.x%r,e.y-=e.y%r,this.scene.tweens.add({targets:[this],duration:300,x:e.x,y:e.y,onComplete:()=>{this.setTint(),this.isCorrectPosition()?(this.emit("piece-in-place",this),this.setDepth(0)):this.setDepth(this.originalDepth)}}),this.emit("sfx","drop-puzzle-piece")}isCorrectPosition(){return this.x===0&&this.y===0}dragStart(n){this.dragDelta=F.minus(n,this),this.dragOrigin=new F(n.x,n.y),this.setDepth(1),this.setTint(11206655),this.emit("sfx","pickup-puzzle-piece")}dragMove(n){this.setPosition(n.x-this.dragDelta.x,n.y-this.dragDelta.y)}dragCancel(){this.scene.tweens.add({targets:[this],duration:200,x:this.dragOrigin.x,y:this.dragOrigin.y}),this.setDepth(0)}contains(n){const e=F.minus(n,this.pieceOrigin).minus(this);return this.pieceSize.contains(e)}}class or{constructor(){j(this,"uiBlocked",()=>!1);j(this,"findDragTarget",()=>{});j(this,"dragTarget")}apply(t){t.input.on("pointerdown",n=>this.onDown(n)),t.input.on("pointermove",n=>this.onMove(n)),t.input.on("pointerup",n=>this.onRelease(n)),t.input.on("gameout",()=>this.onGameOut())}onDown(t){if(this.uiBlocked())return;const n=this.findDragTarget(t);if(n){this.dragTarget=n,this.dragTarget.dragStart(t);return}}onMove(t){this.uiBlocked()||this.dragTarget&&(t.isDown?this.dragTarget.dragMove(t):this.dragTarget.dragCancel(t))}onRelease(t){this.uiBlocked()||this.dragTarget&&(this.dragTarget.dragRelease(t),this.dragTarget=void 0)}onGameOut(){this.uiBlocked()||this.dragTarget&&this.dragTarget.dragMove({x:-1,y:-1})}}const re=(o,t=Math.random)=>Math.floor(t()*o),Ct=800,Et=800,$e=4,We=4,st=new F(Ct,Et),Dt=new F($e,We);class ir extends yt.Scene{constructor(){super({key:"GameScene"});j(this,"puzzlePieces",[])}init(){}preload(){}async createImages(){const e=await new Mn({width:Ct,height:Et,paletteUrl:In}).generate(),r=Un({piecesX:$e,piecesY:We,seed:"cherry"});{const a=Bt(this.textures.createCanvas("island",800,800)),u=a.getSourceImage();Bt(u.getContext("2d")).putImageData(e,0,0),a.refresh()}const i=await createImageBitmap(e);for(const a of r.pieces){const u=Bt(this.textures.createCanvas(`piece-${a.x}-${a.y}`,Ct,Et)),l=u.getSourceImage(),h=Bt(l.getContext("2d"));h.lineWidth=2,h.strokeStyle="lightgrey",h.beginPath();let g=new F(a.moveArgs[0]*Ct,a.moveArgs[1]*Et);h.moveTo(g.x,g.y);for(const v of a.edges)for(const m of v)if(m.command==="l")g=g.plus(new F(m.args[0],m.args[1]).times(st)),h.lineTo(g.x,g.y);else if(m.command==="c"){const R=g.plus(new F(m.args[0],m.args[1]).times(st)),b=g.plus(new F(m.args[2],m.args[3]).times(st));g=g.plus(new F(m.args[4],m.args[5]).times(st)),h.bezierCurveTo(R.x,R.y,b.x,b.y,g.x,g.y)}h.stroke(),h.clip(),h.drawImage(i,0,0),u.refresh();const w=new rr(this,0,0,{gridPos:a,texSize:st,gridSize:Dt});this.add.existing(w),this.puzzlePieces.push(w)}for(const a of this.puzzlePieces)a.on("piece-in-place",()=>this.checkPuzzleComplete()),a.on("sfx",this.playSample)}playSample(n){console.log(`Please play sfx ${n}`)}checkPuzzleComplete(){this.puzzlePieces.every(n=>n.isCorrectPosition())&&(this.add.text(100,100,"Congratulations - Puzzle Complete!",{font:"64px Bangers",color:"#7744ff"}),this.playSample("puzzle-complete"))}scatterPuzzlePieces(){const n=new F(st.x/Dt.x,st.y/Dt.y);for(const e of this.puzzlePieces){let r=re(Ct-n.x),i=re(Et-n.y);r-=e.config.gridPos.x*n.x,i-=e.config.gridPos.y*n.y,r-=r%20,i-=i%20,e.setPosition(r,i)}}async create(){await this.createImages(),this.scatterPuzzlePieces();const n=new or;n.findDragTarget=e=>(this.puzzlePieces.sort((r,i)=>i.depth-r.depth),this.puzzlePieces.find(r=>r.contains(e))),n.apply(this)}}var gt={},zt,ye;function sr(){return ye||(ye=1,zt=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),zt}var Lt={},it={},we;function at(){if(we)return it;we=1;let o;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return it.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17},it.getSymbolTotalCodewords=function(e){return t[e]},it.getBCHDigit=function(n){let e=0;for(;n!==0;)e++,n>>>=1;return e},it.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');o=e},it.isKanjiModeEnabled=function(){return typeof o<"u"},it.toSJIS=function(e){return o(e)},it}var Ft={},ve;function ie(){return ve||(ve=1,function(o){o.L={bit:1},o.M={bit:0},o.Q={bit:3},o.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return o.L;case"m":case"medium":return o.M;case"q":case"quartile":return o.Q;case"h":case"high":return o.H;default:throw new Error("Unknown EC Level: "+n)}}o.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4},o.from=function(e,r){if(o.isValid(e))return e;try{return t(e)}catch{return r}}}(Ft)),Ft}var qt,Ce;function ar(){if(Ce)return qt;Ce=1;function o(){this.buffer=[],this.length=0}return o.prototype={get:function(t){const n=Math.floor(t/8);return(this.buffer[n]>>>7-t%8&1)===1},put:function(t,n){for(let e=0;e<n;e++)this.putBit((t>>>n-e-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}},qt=o,qt}var kt,Ee;function cr(){if(Ee)return kt;Ee=1;function o(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return o.prototype.set=function(t,n,e,r){const i=t*this.size+n;this.data[i]=e,r&&(this.reservedBit[i]=!0)},o.prototype.get=function(t,n){return this.data[t*this.size+n]},o.prototype.xor=function(t,n,e){this.data[t*this.size+n]^=e},o.prototype.isReserved=function(t,n){return this.reservedBit[t*this.size+n]},kt=o,kt}var Ut={},Ae;function ur(){return Ae||(Ae=1,function(o){const t=at().getSymbolSize;o.getRowColCoords=function(e){if(e===1)return[];const r=Math.floor(e/7)+2,i=t(e),a=i===145?26:Math.ceil((i-13)/(2*r-2))*2,u=[i-7];for(let l=1;l<r-1;l++)u[l]=u[l-1]-a;return u.push(6),u.reverse()},o.getPositions=function(e){const r=[],i=o.getRowColCoords(e),a=i.length;for(let u=0;u<a;u++)for(let l=0;l<a;l++)u===0&&l===0||u===0&&l===a-1||u===a-1&&l===0||r.push([i[u],i[l]]);return r}}(Ut)),Ut}var _t={},Se;function lr(){if(Se)return _t;Se=1;const o=at().getSymbolSize,t=7;return _t.getPositions=function(e){const r=o(e);return[[0,0],[r-t,0],[0,r-t]]},_t}var jt={},Be;function fr(){return Be||(Be=1,function(o){o.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};o.isValid=function(r){return r!=null&&r!==""&&!isNaN(r)&&r>=0&&r<=7},o.from=function(r){return o.isValid(r)?parseInt(r,10):void 0},o.getPenaltyN1=function(r){const i=r.size;let a=0,u=0,l=0,h=null,g=null;for(let w=0;w<i;w++){u=l=0,h=g=null;for(let v=0;v<i;v++){let m=r.get(w,v);m===h?u++:(u>=5&&(a+=t.N1+(u-5)),h=m,u=1),m=r.get(v,w),m===g?l++:(l>=5&&(a+=t.N1+(l-5)),g=m,l=1)}u>=5&&(a+=t.N1+(u-5)),l>=5&&(a+=t.N1+(l-5))}return a},o.getPenaltyN2=function(r){const i=r.size;let a=0;for(let u=0;u<i-1;u++)for(let l=0;l<i-1;l++){const h=r.get(u,l)+r.get(u,l+1)+r.get(u+1,l)+r.get(u+1,l+1);(h===4||h===0)&&a++}return a*t.N2},o.getPenaltyN3=function(r){const i=r.size;let a=0,u=0,l=0;for(let h=0;h<i;h++){u=l=0;for(let g=0;g<i;g++)u=u<<1&2047|r.get(h,g),g>=10&&(u===1488||u===93)&&a++,l=l<<1&2047|r.get(g,h),g>=10&&(l===1488||l===93)&&a++}return a*t.N3},o.getPenaltyN4=function(r){let i=0;const a=r.data.length;for(let l=0;l<a;l++)i+=r.data[l];return Math.abs(Math.ceil(i*100/a/5)-10)*t.N4};function n(e,r,i){switch(e){case o.Patterns.PATTERN000:return(r+i)%2===0;case o.Patterns.PATTERN001:return r%2===0;case o.Patterns.PATTERN010:return i%3===0;case o.Patterns.PATTERN011:return(r+i)%3===0;case o.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(i/3))%2===0;case o.Patterns.PATTERN101:return r*i%2+r*i%3===0;case o.Patterns.PATTERN110:return(r*i%2+r*i%3)%2===0;case o.Patterns.PATTERN111:return(r*i%3+(r+i)%2)%2===0;default:throw new Error("bad maskPattern:"+e)}}o.applyMask=function(r,i){const a=i.size;for(let u=0;u<a;u++)for(let l=0;l<a;l++)i.isReserved(l,u)||i.xor(l,u,n(r,l,u))},o.getBestMask=function(r,i){const a=Object.keys(o.Patterns).length;let u=0,l=1/0;for(let h=0;h<a;h++){i(h),o.applyMask(h,r);const g=o.getPenaltyN1(r)+o.getPenaltyN2(r)+o.getPenaltyN3(r)+o.getPenaltyN4(r);o.applyMask(h,r),g<l&&(l=g,u=h)}return u}}(jt)),jt}var Tt={},be;function Xe(){if(be)return Tt;be=1;const o=ie(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Tt.getBlocksCount=function(r,i){switch(i){case o.L:return t[(r-1)*4+0];case o.M:return t[(r-1)*4+1];case o.Q:return t[(r-1)*4+2];case o.H:return t[(r-1)*4+3];default:return}},Tt.getTotalCodewordsCount=function(r,i){switch(i){case o.L:return n[(r-1)*4+0];case o.M:return n[(r-1)*4+1];case o.Q:return n[(r-1)*4+2];case o.H:return n[(r-1)*4+3];default:return}},Tt}var Ot={},vt={},Te;function hr(){if(Te)return vt;Te=1;const o=new Uint8Array(512),t=new Uint8Array(256);return function(){let e=1;for(let r=0;r<255;r++)o[r]=e,t[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)o[r]=o[r-255]}(),vt.log=function(e){if(e<1)throw new Error("log("+e+")");return t[e]},vt.exp=function(e){return o[e]},vt.mul=function(e,r){return e===0||r===0?0:o[t[e]+t[r]]},vt}var xe;function dr(){return xe||(xe=1,function(o){const t=hr();o.mul=function(e,r){const i=new Uint8Array(e.length+r.length-1);for(let a=0;a<e.length;a++)for(let u=0;u<r.length;u++)i[a+u]^=t.mul(e[a],r[u]);return i},o.mod=function(e,r){let i=new Uint8Array(e);for(;i.length-r.length>=0;){const a=i[0];for(let l=0;l<r.length;l++)i[l]^=t.mul(r[l],a);let u=0;for(;u<i.length&&i[u]===0;)u++;i=i.slice(u)}return i},o.generateECPolynomial=function(e){let r=new Uint8Array([1]);for(let i=0;i<e;i++)r=o.mul(r,new Uint8Array([1,t.exp(i)]));return r}}(Ot)),Ot}var Gt,Pe;function gr(){if(Pe)return Gt;Pe=1;const o=dr();function t(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(e){this.degree=e,this.genPoly=o.generateECPolynomial(this.degree)},t.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(e.length+this.degree);r.set(e);const i=o.mod(r,this.genPoly),a=this.degree-i.length;if(a>0){const u=new Uint8Array(this.degree);return u.set(i,a),u}return i},Gt=t,Gt}var Ht={},Kt={},Vt={},Re;function Ze(){return Re||(Re=1,Vt.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),Vt}var Z={},Ne;function tn(){if(Ne)return Z;Ne=1;const o="[0-9]+",t="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const e="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Z.KANJI=new RegExp(n,"g"),Z.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Z.BYTE=new RegExp(e,"g"),Z.NUMERIC=new RegExp(o,"g"),Z.ALPHANUMERIC=new RegExp(t,"g");const r=new RegExp("^"+n+"$"),i=new RegExp("^"+o+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Z.testKanji=function(l){return r.test(l)},Z.testNumeric=function(l){return i.test(l)},Z.testAlphanumeric=function(l){return a.test(l)},Z}var Me;function ct(){return Me||(Me=1,function(o){const t=Ze(),n=tn();o.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},o.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},o.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},o.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},o.MIXED={bit:-1},o.getCharCountIndicator=function(i,a){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?i.ccBits[0]:a<27?i.ccBits[1]:i.ccBits[2]},o.getBestModeForData=function(i){return n.testNumeric(i)?o.NUMERIC:n.testAlphanumeric(i)?o.ALPHANUMERIC:n.testKanji(i)?o.KANJI:o.BYTE},o.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},o.isValid=function(i){return i&&i.bit&&i.ccBits};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return o.NUMERIC;case"alphanumeric":return o.ALPHANUMERIC;case"kanji":return o.KANJI;case"byte":return o.BYTE;default:throw new Error("Unknown mode: "+r)}}o.from=function(i,a){if(o.isValid(i))return i;try{return e(i)}catch{return a}}}(Kt)),Kt}var Ie;function mr(){return Ie||(Ie=1,function(o){const t=at(),n=Xe(),e=ie(),r=ct(),i=Ze(),a=7973,u=t.getBCHDigit(a);function l(v,m,R){for(let b=1;b<=40;b++)if(m<=o.getCapacity(b,R,v))return b}function h(v,m){return r.getCharCountIndicator(v,m)+4}function g(v,m){let R=0;return v.forEach(function(b){const q=h(b.mode,m);R+=q+b.getBitsLength()}),R}function w(v,m){for(let R=1;R<=40;R++)if(g(v,R)<=o.getCapacity(R,m,r.MIXED))return R}o.from=function(m,R){return i.isValid(m)?parseInt(m,10):R},o.getCapacity=function(m,R,b){if(!i.isValid(m))throw new Error("Invalid QR Code version");typeof b>"u"&&(b=r.BYTE);const q=t.getSymbolTotalCodewords(m),x=n.getTotalCodewordsCount(m,R),L=(q-x)*8;if(b===r.MIXED)return L;const D=L-h(b,m);switch(b){case r.NUMERIC:return Math.floor(D/10*3);case r.ALPHANUMERIC:return Math.floor(D/11*2);case r.KANJI:return Math.floor(D/13);case r.BYTE:default:return Math.floor(D/8)}},o.getBestVersionForData=function(m,R){let b;const q=e.from(R,e.M);if(Array.isArray(m)){if(m.length>1)return w(m,q);if(m.length===0)return 1;b=m[0]}else b=m;return l(b.mode,b.getLength(),q)},o.getEncodedBits=function(m){if(!i.isValid(m)||m<7)throw new Error("Invalid QR Code version");let R=m<<12;for(;t.getBCHDigit(R)-u>=0;)R^=a<<t.getBCHDigit(R)-u;return m<<12|R}}(Ht)),Ht}var Yt={},De;function pr(){if(De)return Yt;De=1;const o=at(),t=1335,n=21522,e=o.getBCHDigit(t);return Yt.getEncodedBits=function(i,a){const u=i.bit<<3|a;let l=u<<10;for(;o.getBCHDigit(l)-e>=0;)l^=t<<o.getBCHDigit(l)-e;return(u<<10|l)^n},Yt}var Jt={},Qt,ze;function yr(){if(ze)return Qt;ze=1;const o=ct();function t(n){this.mode=o.NUMERIC,this.data=n.toString()}return t.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(e){let r,i,a;for(r=0;r+3<=this.data.length;r+=3)i=this.data.substr(r,3),a=parseInt(i,10),e.put(a,10);const u=this.data.length-r;u>0&&(i=this.data.substr(r),a=parseInt(i,10),e.put(a,u*3+1))},Qt=t,Qt}var $t,Le;function wr(){if(Le)return $t;Le=1;const o=ct(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(e){this.mode=o.ALPHANUMERIC,this.data=e}return n.getBitsLength=function(r){return 11*Math.floor(r/2)+6*(r%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i+2<=this.data.length;i+=2){let a=t.indexOf(this.data[i])*45;a+=t.indexOf(this.data[i+1]),r.put(a,11)}this.data.length%2&&r.put(t.indexOf(this.data[i]),6)},$t=n,$t}var Wt,Fe;function vr(){if(Fe)return Wt;Fe=1;const o=ct();function t(n){this.mode=o.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return t.getBitsLength=function(e){return e*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){for(let e=0,r=this.data.length;e<r;e++)n.put(this.data[e],8)},Wt=t,Wt}var Xt,qe;function Cr(){if(qe)return Xt;qe=1;const o=ct(),t=at();function n(e){this.mode=o.KANJI,this.data=e}return n.getBitsLength=function(r){return r*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(e){let r;for(r=0;r<this.data.length;r++){let i=t.toSJIS(this.data[r]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[r]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),e.put(i,13)}},Xt=n,Xt}var Zt={exports:{}},ke;function Er(){return ke||(ke=1,function(o){var t={single_source_shortest_paths:function(n,e,r){var i={},a={};a[e]=0;var u=t.PriorityQueue.make();u.push(e,0);for(var l,h,g,w,v,m,R,b,q;!u.empty();){l=u.pop(),h=l.value,w=l.cost,v=n[h]||{};for(g in v)v.hasOwnProperty(g)&&(m=v[g],R=w+m,b=a[g],q=typeof a[g]>"u",(q||b>R)&&(a[g]=R,u.push(g,R),i[g]=h))}if(typeof r<"u"&&typeof a[r]>"u"){var x=["Could not find a path from ",e," to ",r,"."].join("");throw new Error(x)}return i},extract_shortest_path_from_predecessor_list:function(n,e){for(var r=[],i=e;i;)r.push(i),n[i],i=n[i];return r.reverse(),r},find_path:function(n,e,r){var i=t.single_source_shortest_paths(n,e,r);return t.extract_shortest_path_from_predecessor_list(i,r)},PriorityQueue:{make:function(n){var e=t.PriorityQueue,r={},i;n=n||{};for(i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);return r.queue=[],r.sorter=n.sorter||e.default_sorter,r},default_sorter:function(n,e){return n.cost-e.cost},push:function(n,e){var r={value:n,cost:e};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};o.exports=t}(Zt)),Zt.exports}var Ue;function Ar(){return Ue||(Ue=1,function(o){const t=ct(),n=yr(),e=wr(),r=vr(),i=Cr(),a=tn(),u=at(),l=Er();function h(x){return unescape(encodeURIComponent(x)).length}function g(x,L,D){const S=[];let _;for(;(_=x.exec(D))!==null;)S.push({data:_[0],index:_.index,mode:L,length:_[0].length});return S}function w(x){const L=g(a.NUMERIC,t.NUMERIC,x),D=g(a.ALPHANUMERIC,t.ALPHANUMERIC,x);let S,_;return u.isKanjiModeEnabled()?(S=g(a.BYTE,t.BYTE,x),_=g(a.KANJI,t.KANJI,x)):(S=g(a.BYTE_KANJI,t.BYTE,x),_=[]),L.concat(D,S,_).sort(function(C,P){return C.index-P.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function v(x,L){switch(L){case t.NUMERIC:return n.getBitsLength(x);case t.ALPHANUMERIC:return e.getBitsLength(x);case t.KANJI:return i.getBitsLength(x);case t.BYTE:return r.getBitsLength(x)}}function m(x){return x.reduce(function(L,D){const S=L.length-1>=0?L[L.length-1]:null;return S&&S.mode===D.mode?(L[L.length-1].data+=D.data,L):(L.push(D),L)},[])}function R(x){const L=[];for(let D=0;D<x.length;D++){const S=x[D];switch(S.mode){case t.NUMERIC:L.push([S,{data:S.data,mode:t.ALPHANUMERIC,length:S.length},{data:S.data,mode:t.BYTE,length:S.length}]);break;case t.ALPHANUMERIC:L.push([S,{data:S.data,mode:t.BYTE,length:S.length}]);break;case t.KANJI:L.push([S,{data:S.data,mode:t.BYTE,length:h(S.data)}]);break;case t.BYTE:L.push([{data:S.data,mode:t.BYTE,length:h(S.data)}])}}return L}function b(x,L){const D={},S={start:{}};let _=["start"];for(let A=0;A<x.length;A++){const C=x[A],P=[];for(let E=0;E<C.length;E++){const M=C[E],B=""+A+E;P.push(B),D[B]={node:M,lastCount:0},S[B]={};for(let T=0;T<_.length;T++){const y=_[T];D[y]&&D[y].node.mode===M.mode?(S[y][B]=v(D[y].lastCount+M.length,M.mode)-v(D[y].lastCount,M.mode),D[y].lastCount+=M.length):(D[y]&&(D[y].lastCount=M.length),S[y][B]=v(M.length,M.mode)+4+t.getCharCountIndicator(M.mode,L))}}_=P}for(let A=0;A<_.length;A++)S[_[A]].end=0;return{map:S,table:D}}function q(x,L){let D;const S=t.getBestModeForData(x);if(D=t.from(L,S),D!==t.BYTE&&D.bit<S.bit)throw new Error('"'+x+'" cannot be encoded with mode '+t.toString(D)+`.
 Suggested mode is: `+t.toString(S));switch(D===t.KANJI&&!u.isKanjiModeEnabled()&&(D=t.BYTE),D){case t.NUMERIC:return new n(x);case t.ALPHANUMERIC:return new e(x);case t.KANJI:return new i(x);case t.BYTE:return new r(x)}}o.fromArray=function(L){return L.reduce(function(D,S){return typeof S=="string"?D.push(q(S,null)):S.data&&D.push(q(S.data,S.mode)),D},[])},o.fromString=function(L,D){const S=w(L,u.isKanjiModeEnabled()),_=R(S),A=b(_,D),C=l.find_path(A.map,"start","end"),P=[];for(let E=1;E<C.length-1;E++)P.push(A.table[C[E]].node);return o.fromArray(m(P))},o.rawSplit=function(L){return o.fromArray(w(L,u.isKanjiModeEnabled()))}}(Jt)),Jt}var _e;function Sr(){if(_e)return Lt;_e=1;const o=at(),t=ie(),n=ar(),e=cr(),r=ur(),i=lr(),a=fr(),u=Xe(),l=gr(),h=mr(),g=pr(),w=ct(),v=Ar();function m(A,C){const P=A.size,E=i.getPositions(C);for(let M=0;M<E.length;M++){const B=E[M][0],T=E[M][1];for(let y=-1;y<=7;y++)if(!(B+y<=-1||P<=B+y))for(let I=-1;I<=7;I++)T+I<=-1||P<=T+I||(y>=0&&y<=6&&(I===0||I===6)||I>=0&&I<=6&&(y===0||y===6)||y>=2&&y<=4&&I>=2&&I<=4?A.set(B+y,T+I,!0,!0):A.set(B+y,T+I,!1,!0))}}function R(A){const C=A.size;for(let P=8;P<C-8;P++){const E=P%2===0;A.set(P,6,E,!0),A.set(6,P,E,!0)}}function b(A,C){const P=r.getPositions(C);for(let E=0;E<P.length;E++){const M=P[E][0],B=P[E][1];for(let T=-2;T<=2;T++)for(let y=-2;y<=2;y++)T===-2||T===2||y===-2||y===2||T===0&&y===0?A.set(M+T,B+y,!0,!0):A.set(M+T,B+y,!1,!0)}}function q(A,C){const P=A.size,E=h.getEncodedBits(C);let M,B,T;for(let y=0;y<18;y++)M=Math.floor(y/3),B=y%3+P-8-3,T=(E>>y&1)===1,A.set(M,B,T,!0),A.set(B,M,T,!0)}function x(A,C,P){const E=A.size,M=g.getEncodedBits(C,P);let B,T;for(B=0;B<15;B++)T=(M>>B&1)===1,B<6?A.set(B,8,T,!0):B<8?A.set(B+1,8,T,!0):A.set(E-15+B,8,T,!0),B<8?A.set(8,E-B-1,T,!0):B<9?A.set(8,15-B-1+1,T,!0):A.set(8,15-B-1,T,!0);A.set(E-8,8,1,!0)}function L(A,C){const P=A.size;let E=-1,M=P-1,B=7,T=0;for(let y=P-1;y>0;y-=2)for(y===6&&y--;;){for(let I=0;I<2;I++)if(!A.isReserved(M,y-I)){let H=!1;T<C.length&&(H=(C[T]>>>B&1)===1),A.set(M,y-I,H),B--,B===-1&&(T++,B=7)}if(M+=E,M<0||P<=M){M-=E,E=-E;break}}}function D(A,C,P){const E=new n;P.forEach(function(I){E.put(I.mode.bit,4),E.put(I.getLength(),w.getCharCountIndicator(I.mode,A)),I.write(E)});const M=o.getSymbolTotalCodewords(A),B=u.getTotalCodewordsCount(A,C),T=(M-B)*8;for(E.getLengthInBits()+4<=T&&E.put(0,4);E.getLengthInBits()%8!==0;)E.putBit(0);const y=(T-E.getLengthInBits())/8;for(let I=0;I<y;I++)E.put(I%2?17:236,8);return S(E,A,C)}function S(A,C,P){const E=o.getSymbolTotalCodewords(C),M=u.getTotalCodewordsCount(C,P),B=E-M,T=u.getBlocksCount(C,P),y=E%T,I=T-y,H=Math.floor(E/T),K=Math.floor(B/T),nt=K+1,tt=H-K,et=new l(tt);let $=0;const Y=new Array(T),rt=new Array(T);let ut=0;const At=new Uint8Array(A.buffer);for(let W=0;W<T;W++){const ft=W<I?K:nt;Y[W]=At.slice($,$+ft),rt[W]=et.encode(Y[W]),$+=ft,ut=Math.max(ut,ft)}const lt=new Uint8Array(E);let St=0,J,Q;for(J=0;J<ut;J++)for(Q=0;Q<T;Q++)J<Y[Q].length&&(lt[St++]=Y[Q][J]);for(J=0;J<tt;J++)for(Q=0;Q<T;Q++)lt[St++]=rt[Q][J];return lt}function _(A,C,P,E){let M;if(Array.isArray(A))M=v.fromArray(A);else if(typeof A=="string"){let H=C;if(!H){const K=v.rawSplit(A);H=h.getBestVersionForData(K,P)}M=v.fromString(A,H||40)}else throw new Error("Invalid data");const B=h.getBestVersionForData(M,P);if(!B)throw new Error("The amount of data is too big to be stored in a QR Code");if(!C)C=B;else if(C<B)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+B+`.
`);const T=D(C,P,M),y=o.getSymbolSize(C),I=new e(y);return m(I,C),R(I),b(I,C),x(I,P,0),C>=7&&q(I,C),L(I,T),isNaN(E)&&(E=a.getBestMask(I,x.bind(null,I,P))),a.applyMask(E,I),x(I,P,E),{modules:I,version:C,errorCorrectionLevel:P,maskPattern:E,segments:M}}return Lt.create=function(C,P){if(typeof C>"u"||C==="")throw new Error("No input text");let E=t.M,M,B;return typeof P<"u"&&(E=t.from(P.errorCorrectionLevel,t.M),M=h.from(P.version),B=a.from(P.maskPattern),P.toSJISFunc&&o.setToSJISFunction(P.toSJISFunc)),_(C,M,E,B)},Lt}var te={},ee={},je;function en(){return je||(je=1,function(o){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let e=n.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+n);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(i){return[i,i]}))),e.length===6&&e.push("F","F");const r=parseInt(e.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+e.slice(0,6).join("")}}o.getOptions=function(e){e||(e={}),e.color||(e.color={});const r=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,i=e.width&&e.width>=21?e.width:void 0,a=e.scale||4;return{width:i,scale:i?4:a,margin:r,color:{dark:t(e.color.dark||"#000000ff"),light:t(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},o.getScale=function(e,r){return r.width&&r.width>=e+r.margin*2?r.width/(e+r.margin*2):r.scale},o.getImageWidth=function(e,r){const i=o.getScale(e,r);return Math.floor((e+r.margin*2)*i)},o.qrToImageData=function(e,r,i){const a=r.modules.size,u=r.modules.data,l=o.getScale(a,i),h=Math.floor((a+i.margin*2)*l),g=i.margin*l,w=[i.color.light,i.color.dark];for(let v=0;v<h;v++)for(let m=0;m<h;m++){let R=(v*h+m)*4,b=i.color.light;if(v>=g&&m>=g&&v<h-g&&m<h-g){const q=Math.floor((v-g)/l),x=Math.floor((m-g)/l);b=w[u[q*a+x]?1:0]}e[R++]=b.r,e[R++]=b.g,e[R++]=b.b,e[R]=b.a}}}(ee)),ee}var Oe;function Br(){return Oe||(Oe=1,function(o){const t=en();function n(r,i,a){r.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=a,i.width=a,i.style.height=a+"px",i.style.width=a+"px"}function e(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}o.render=function(i,a,u){let l=u,h=a;typeof l>"u"&&(!a||!a.getContext)&&(l=a,a=void 0),a||(h=e()),l=t.getOptions(l);const g=t.getImageWidth(i.modules.size,l),w=h.getContext("2d"),v=w.createImageData(g,g);return t.qrToImageData(v.data,i,l),n(w,h,g),w.putImageData(v,0,0),h},o.renderToDataURL=function(i,a,u){let l=u;typeof l>"u"&&(!a||!a.getContext)&&(l=a,a=void 0),l||(l={});const h=o.render(i,a,l),g=l.type||"image/png",w=l.rendererOpts||{};return h.toDataURL(g,w.quality)}}(te)),te}var ne={},Ge;function br(){if(Ge)return ne;Ge=1;const o=en();function t(r,i){const a=r.a/255,u=i+'="'+r.hex+'"';return a<1?u+" "+i+'-opacity="'+a.toFixed(2).slice(1)+'"':u}function n(r,i,a){let u=r+i;return typeof a<"u"&&(u+=" "+a),u}function e(r,i,a){let u="",l=0,h=!1,g=0;for(let w=0;w<r.length;w++){const v=Math.floor(w%i),m=Math.floor(w/i);!v&&!h&&(h=!0),r[w]?(g++,w>0&&v>0&&r[w-1]||(u+=h?n("M",v+a,.5+m+a):n("m",l,0),l=0,h=!1),v+1<i&&r[w+1]||(u+=n("h",g),g=0)):l++}return u}return ne.render=function(i,a,u){const l=o.getOptions(a),h=i.modules.size,g=i.modules.data,w=h+l.margin*2,v=l.color.light.a?"<path "+t(l.color.light,"fill")+' d="M0 0h'+w+"v"+w+'H0z"/>':"",m="<path "+t(l.color.dark,"stroke")+' d="'+e(g,h,l.margin)+'"/>',R='viewBox="0 0 '+w+" "+w+'"',q='<svg xmlns="http://www.w3.org/2000/svg" '+(l.width?'width="'+l.width+'" height="'+l.width+'" ':"")+R+' shape-rendering="crispEdges">'+v+m+`</svg>
`;return typeof u=="function"&&u(null,q),q},ne}var He;function Tr(){if(He)return gt;He=1;const o=sr(),t=Sr(),n=Br(),e=br();function r(i,a,u,l,h){const g=[].slice.call(arguments,1),w=g.length,v=typeof g[w-1]=="function";if(!v&&!o())throw new Error("Callback required as last argument");if(v){if(w<2)throw new Error("Too few arguments provided");w===2?(h=u,u=a,a=l=void 0):w===3&&(a.getContext&&typeof h>"u"?(h=l,l=void 0):(h=l,l=u,u=a,a=void 0))}else{if(w<1)throw new Error("Too few arguments provided");return w===1?(u=a,a=l=void 0):w===2&&!a.getContext&&(l=u,u=a,a=void 0),new Promise(function(m,R){try{const b=t.create(u,l);m(i(b,a,l))}catch(b){R(b)}})}try{const m=t.create(u,l);h(null,i(m,a,l))}catch(m){h(m)}}return gt.create=t.create,gt.toCanvas=r.bind(null,n.render),gt.toDataURL=r.bind(null,n.renderToDataURL),gt.toString=r.bind(null,function(i,a,u){return e.render(i,u)}),gt}var xr=Tr();const Pr=oe(xr);class Rr extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.render()}render(){Nt(this.shadowRoot),this.shadowRoot.innerHTML=`
		<style>
			:host {
				display: flex;
				justify-content: center;
				align-items: center;
				height: 100vh;
			}

			button {
				background-color: #4C50AF; /* Blue */
				border: none;
				color: white;
				text-align: center;
				text-decoration: none;
				display: inline-block;
				font-size: 16px;
				margin: 2rem;
				width: 10rem;
				height: 4rem;
			}
			button:hover {
				background-color: #6C70DF; /* Blue */
			}
			.main {
				position: absolute;
			}
			.qrwrapper {
				position: absolute;
				right: 1rem;
				top: 1rem;
				text-align: center;
			}
			.buttonBar {
				display: flex;
				flex-direction: column;
			}
		</style>
		
		<!-- Animated gradients generated with ChatGPT -->
		<svg width="100%" height="100vh">
			<!-- Define the gradients -->
			<defs>
			<linearGradient id="gradientAnimation" x1="0%" y1="0%" x2="100%" y2="100%">
				<stop offset="0%" stop-color="#ff7e5f">
				<animate attributeName="stop-color" values="#ff7e5f; #feb47b; #6a82fb; #ff7e5f" dur="5s" repeatCount="indefinite" />
				</stop>
				<stop offset="50%" stop-color="#6a82fb">
				<animate attributeName="stop-color" values="#6a82fb; #ff7e5f; #feb47b; #6a82fb" dur="5s" repeatCount="indefinite" />
				</stop>
				<stop offset="100%" stop-color="#feb47b">
				<animate attributeName="stop-color" values="#feb47b; #6a82fb; #ff7e5f; #feb47b" dur="5s" repeatCount="indefinite" />
				</stop>
			</linearGradient>

			<linearGradient id="overlayGradient" x1="0%" y1="0%" x2="100%" y2="0%">
				<stop offset="0%" stop-color="rgba(255, 255, 255, 0.5)" />
				<stop offset="100%" stop-color="rgba(0, 0, 0, 0.5)" />
			</linearGradient>

			<!-- Simulated Mesh Gradient using Radial Gradients -->
			<radialGradient id="meshGradient" cx="50%" cy="50%" r="50%">
				<stop offset="0%" stop-color="#ff9a9e">
				<animate attributeName="stop-color" values="#ff9a9e; #fad0c4; #ffdde1; #ff9a9e" dur="6s" repeatCount="indefinite" />
				</stop>
				<stop offset="50%" stop-color="#fad0c4">
				<animate attributeName="stop-color" values="#fad0c4; #ffdde1; #ff9a9e; #fad0c4" dur="6s" repeatCount="indefinite" />
				</stop>
				<stop offset="100%" stop-color="#ffdde1">
				<animate attributeName="stop-color" values="#ffdde1; #ff9a9e; #fad0c4; #ffdde1" dur="6s" repeatCount="indefinite" />
				</stop>
			</radialGradient>
			</defs>

			<!-- Apply the gradients -->
			<rect width="100%" height="100%" fill="url(#gradientAnimation)" />
			<rect width="100%" height="100%" fill="url(#overlayGradient)" />
			<rect width="100%" height="100%" fill="url(#meshGradient)" opacity="0.5" />
		</svg>

		<div class="main">
			<div class="buttonBar">
				<button id="startGame">Start Game</button>
				<button id="fullScreen">Full Screen</button>
			</div>
		</div>
		<div class="qrwrapper">
			<small>play on mobile!</small><br>
			<canvas id="qrcanvas"></canvas>
		</div>
	`}connectedCallback(){var n,e,r,i,a;(e=(n=this.shadowRoot)==null?void 0:n.querySelector("#startGame"))==null||e.addEventListener("click",()=>{this.dispatchEvent(new CustomEvent("Start")),this.dispatchEvent(new CustomEvent("button-pressed"))}),(i=(r=this.shadowRoot)==null?void 0:r.querySelector("#fullScreen"))==null||i.addEventListener("click",()=>{document.documentElement.requestFullscreen({navigationUI:"show"}).then(()=>{}).catch(l=>{alert(`An error occurred while trying to switch into full-screen mode: ${l.message} (${l.name})`)})});const t=(a=this.shadowRoot)==null?void 0:a.getElementById("qrcanvas");Pr.toCanvas(t,window.location.toString(),function(u){u&&console.error(u)})}}function Nr(o,t,n,e=!1){return o.addEventListener(t,n,e),()=>{o.removeEventListener(t,n,e)}}let xt;function Mr(o){return xt||(xt=`scene-component-${re(Number.MAX_SAFE_INTEGER)}`,customElements.define(xt,o)),xt}class Ir extends yt.Scene{constructor({key:n,next:e}){super({key:n});j(this,"component");j(this,"unregister",[]);j(this,"next");this.next=e}async create(){this.game.canvas.setAttribute("style","display: none;");const e=Mr(Rr);this.component=document.createElement(e),this.component.setAttribute("style","display: visible;"),document.body.appendChild(this.component),this.unregister=[Nr(this.component,"Start",()=>this.startGame())],this.events.on("shutdown",()=>this.shutdown())}startGame(){this.scene.start(this.next)}shutdown(){var e;this.unregister.forEach(r=>r()),(e=this.component)==null||e.setAttribute("style","display: none;"),this.game.canvas.setAttribute("style","display: visible;")}}const Dr={type:yt.AUTO,parent:"content",width:1280,height:800,localStorageName:"phaseres6webpack",scene:[Sn,Bn,ir,new Ir({key:"TitleScreen",next:"GameScene"})]};class zr extends yt.Game{constructor(){super(Dr)}}new zr;
